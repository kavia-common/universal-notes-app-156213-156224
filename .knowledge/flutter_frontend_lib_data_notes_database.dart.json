{"is_source_file": true, "format": "Dart", "description": "This file defines the NotesDatabase class, a singleton that provides CRUD operations for notes stored in a SQLite database for a Flutter-based notes application.", "external_files": ["package:path/path.dart", "package:sqflite/sqflite.dart", "../models/note.dart"], "external_methods": ["getDatabasesPath()", "openDatabase()", "db.execute()", "db.insert()", "db.query()", "db.update()", "db.delete()", "DateTime.now()"], "published": ["NotesDatabase"], "classes": [{"name": "NotesDatabase", "description": "A singleton class providing CRUD operations for notes stored in a SQLite database, with methods for creating, retrieving, updating, and deleting notes."}], "methods": [{"name": "_internal", "description": "Private constructor for singleton pattern."}, {"name": "database", "description": "Asynchronously returns the singleton database instance, initializing it if necessary."}, {"name": "_initDB", "description": "Initializes the database, creating the schema and optional seed data."}, {"name": "_onCreate", "description": "Creates the notes table and inserts an initial welcome note."}, {"name": "createNote", "description": "Inserts a new note into the database and returns the created Note object."}, {"name": "getAllNotes", "description": "Retrieves all notes ordered by most recently updated."}, {"name": "getNote", "description": "Retrieves a single note by its ID."}, {"name": "updateNote", "description": "Updates an existing note in the database."}, {"name": "deleteNote", "description": "Deletes a note by its ID."}, {"name": "close", "description": "Closes the database connection."}], "calls": ["getDatabasesPath()", "join()", "openDatabase()", "db.execute()", "db.insert()", "db.query()", "db.update()", "db.delete()", "DateTime.now()"], "search-terms": ["notes database singleton", "SQLite CRUD notes", "notes.dart database operations", "NotesDatabase init", "notes table schema"], "state": 2, "file_id": 20, "knowledge_revision": 44, "git_revision": "", "hash": "90370678f607f0403632b417ef6512ab", "format-version": 4, "code-base-name": "flutter_frontend", "filename": "flutter_frontend/lib/data/notes_database.dart", "revision_history": [{"44": ""}]}